<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Main Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>libDSFTP Documentation</h1>
<p>
Welcome to the libDSFTP reference documentation! This set of HTML pages should tell you everything about using libDSFTP to add a FTP server to your own app. In the section you're reading now, I'd like to go through a quick step-by-step for the most typical use.<h2><a name="Preliminaries"></a>
Preliminaries</h2>
Adding an FTP server is very easy. First, you should make sure that the following components are added to your build process. That means their include files must be accessible, and their libraries/object files must be linked with your program.<p>
<ul>
<li>gba_nds_fat (either chishm's FAT lib or REIN's)</li><li>dswifi</li><li>libDSFTP</li></ul>
<p>
Then, you initialize the Wifi and FAT libraries as usual. Please refer to their respective examples for info on how to do it, or to the DSFTP source.<h2><a name="creating"></a>
Creating the server</h2>
Next, you create an instance of <a class="el" href="classBFTPServer.html">BFTPServer</a> somewhere in your program, like so:<p>
<div class="fragment"><pre>
        <a class="code" href="classBFTPServer.html">BFTPServer</a> server;
    
</pre></div><p>
If you want to, you can also create an instance of <a class="el" href="classBFTPConfigurator.html">BFTPConfigurator</a> to configure the server. This is not mandatory, but it allows you to configure the FTP server via config file. This would look as follows.<p>
<div class="fragment"><pre>
        <a class="code" href="classBFTPConfigurator.html">BFTPConfigurator</a> configurator(&amp;server);
        configurator.<a class="code" href="classBFTPConfigurator.html#a1">configureFromFile</a>(<span class="stringliteral">"/data/settings/ftp.conf"</span>);
    
</pre></div><p>
...or wherever you want the config file to be.<p>
If you do <b>not</b> use a <a class="el" href="classBFTPConfigurator.html">BFTPConfigurator</a>, you <b>must</b> add users to the FTP server manually. Otherwise, you won't be able to log in. The simplest way to do this is like this:<p>
<div class="fragment"><pre>
        server.<a class="code" href="classBFTPServer.html#z0_0">addUser</a>(<span class="stringliteral">"myusername"</span>, <span class="stringliteral">"mypassword"</span>);
    
</pre></div><p>
Please refer to <a class="el" href="classBFTPServer.html">BFTPServer</a> for other arguments to this command.<h2><a name="work"></a>
Letting it do its work</h2>
That's it, your FTP server is ready! Now, whenever your program is idle (e.g. from the main loop), you should let the server do its work, like this:<p>
<div class="fragment"><pre>
        server.<a class="code" href="classBFTPServer.html#a3">handle</a>();
    
</pre></div><h2><a name="wrap"></a>
Wrapping it up</h2>
And that's all you have to do. All the code inside of a nice little mainloop function would look like this:<p>
<div class="fragment"><pre>
        <span class="keywordtype">void</span> mainloop(<span class="keywordtype">void</span>)
        {
                <a class="code" href="classBFTPServer.html">BFTPServer</a> server;
                <a class="code" href="classBFTPConfigurator.html">BFTPConfigurator</a> configurator(&amp;server);
                configurator.<a class="code" href="classBFTPConfigurator.html#a1">configureFromFile</a>(<span class="stringliteral">"/data/settings/ftp.conf"</span>);
                <span class="keywordflow">while</span>(true)
                {
                        server.<a class="code" href="classBFTPServer.html#a3">handle</a>();
                        swiWaitForVBlank();
                }
        }
    
</pre></div><p>
Please refer to the source code of DSFTP and the other pages of this documentation for other possible settings and features.<h2><a name="about"></a>
About libDSFTP</h2>
DSFTP is provided free of charge. (Although donations are happily accepted, see <a href="http://giesler.biz/~bjoern/en/sw_dsftp.html#donate">this link</a>.) The software is provided as-is, without any express or implicit warranty. Don't expect too much, and don't blame me if it wrecks your flash cart, sets your house on fire and rapes your dog. You have been warned.<p>
That said, it's reasonably well-behaved here :-) Please send me your experiences with DSFTP via per email (replace _AT_ by @). Thank you!<hr><address style="align: right;"><small>Generated on Thu Feb 14 08:32:14 2008 for libDSFTP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
