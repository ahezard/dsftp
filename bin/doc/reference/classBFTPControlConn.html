<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BFTPControlConn class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>BFTPControlConn Class Reference</h1><code>#include &lt;<a class="el" href="BFTPServer_8h-source.html">BFTPServer.h</a>&gt;</code>
<p>
<p>Inheritance diagram for BFTPControlConn:
<p><center><img src="classBFTPControlConn.png" usemap="#BFTPControlConn_map" border="0" alt=""></center>
<map name="BFTPControlConn_map">
<area href="classBTCPConnection.html" alt="BTCPConnection" shape="rect" coords="0,0,114,24">
</map>
<a href="classBFTPControlConn-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="BFTPControlConn::BFTPControlConn"></a>
&nbsp;</td><td valign=bottom><b>BFTPControlConn</b> (<a class="el" href="classBFTPServer.html">BFTPServer</a> *master, int <a class="el" href="classBTCPConnection.html#n2">conn</a>, const struct sockaddr_in &amp;<a class="el" href="classBTCPConnection.html#n7">lastaddr</a>)</td></tr>
<tr><td nowrap align=right valign=top><a name="a2" doxytag="BFTPControlConn::userInfo"></a>
std::string&nbsp;</td><td valign=bottom><b>userInfo</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="BFTPControlConn::currentUser"></a>
const <a class="el" href="structBFTPUser.html">BFTPUser</a> &amp;&nbsp;</td><td valign=bottom><b>currentUser</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="BFTPControlConn::close"></a>
virtual void&nbsp;</td><td valign=bottom><a class="el" href="classBFTPControlConn.html#a4">close</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close connection.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="BFTPControlConn::handle"></a>
virtual void&nbsp;</td><td valign=bottom><a class="el" href="classBFTPControlConn.html#a5">handle</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Handle incoming connections and connection attempts. Call periodically.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="BFTPControlConn::createDataConnection"></a>
int&nbsp;</td><td valign=bottom><b>createDataConnection</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a7" doxytag="BFTPControlConn::destroyDataConnection"></a>
void&nbsp;</td><td valign=bottom><b>destroyDataConnection</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="BFTPControlConn::updateActivityTime"></a>
void&nbsp;</td><td valign=bottom><b>updateActivityTime</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="BFTPControlConn::sendReply"></a>
bool&nbsp;</td><td valign=bottom><b>sendReply</b> (int code, const char *format,...)</td></tr>
<tr><td nowrap align=right valign=top><a name="a10" doxytag="BFTPControlConn::sendReply"></a>
bool&nbsp;</td><td valign=bottom><b>sendReply</b> (int code, const std::string &amp;reply)</td></tr>
<tr><td nowrap align=right valign=top><a name="a11" doxytag="BFTPControlConn::makeAbsoluteFilename"></a>
std::string&nbsp;</td><td valign=bottom><a class="el" href="classBFTPControlConn.html#a11">makeAbsoluteFilename</a> (const std::string &amp;fname)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Make fname in the user's root into a global absolute filename.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="BFTPControlConn::getMaster"></a>
<a class="el" href="classBFTPServer.html">BFTPServer</a> *&nbsp;</td><td valign=bottom><b>getMaster</b> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Delegate handling</div></td></tr>
<tr><td nowrap align=right valign=top><a name="z2_0" doxytag="BFTPControlConn::setDelegate"></a>
void&nbsp;</td><td valign=bottom><b>setDelegate</b> (Delegate *deleg)</td></tr>
<tr><td nowrap align=right valign=top><a name="z2_1" doxytag="BFTPControlConn::delegate"></a>
Delegate *&nbsp;</td><td valign=bottom><b>delegate</b> ()</td></tr>
<tr><td colspan=2><br><h2>Protected Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>TransferType</b> { <b>TYPE_ASCII</b>, 
<b>TYPE_IMAGE</b>
 }</td></tr>
<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="b0" doxytag="BFTPControlConn::handleInput"></a>
virtual bool&nbsp;</td><td valign=bottom><a class="el" href="classBFTPControlConn.html#b0">handleInput</a> (const unsigned char *<a class="el" href="classBFTPControlConn.html#n8">buf</a>, int buflen)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Called by the default <a class="el" href="classBTCPConnection.html#b1">handleConnection()</a> if input was received.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="b1" doxytag="BFTPControlConn::setLoginName"></a>
bool&nbsp;</td><td valign=bottom><b>setLoginName</b> (const std::string &amp;name)</td></tr>
<tr><td nowrap align=right valign=top><a name="b2" doxytag="BFTPControlConn::setLoginPassword"></a>
bool&nbsp;</td><td valign=bottom><b>setLoginPassword</b> (const std::string &amp;pass)</td></tr>
<tr><td nowrap align=right valign=top><a name="b3" doxytag="BFTPControlConn::setCurrentUserByName"></a>
bool&nbsp;</td><td valign=bottom><b>setCurrentUserByName</b> (const std::string &amp;name)</td></tr>
<tr><td nowrap align=right valign=top><a name="b4" doxytag="BFTPControlConn::changeWorkingDir"></a>
bool&nbsp;</td><td valign=bottom><b>changeWorkingDir</b> (const std::string &amp;newwd)</td></tr>
<tr><td nowrap align=right valign=top><a name="b5" doxytag="BFTPControlConn::listDir"></a>
bool&nbsp;</td><td valign=bottom><b>listDir</b> (<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *dc, const std::string &amp;args, bool namesOnly=false)</td></tr>
<tr><td nowrap align=right valign=top><a name="b6" doxytag="BFTPControlConn::storeFile"></a>
bool&nbsp;</td><td valign=bottom><b>storeFile</b> (<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *dc, const std::string &amp;args)</td></tr>
<tr><td nowrap align=right valign=top><a name="b7" doxytag="BFTPControlConn::retrieveFile"></a>
bool&nbsp;</td><td valign=bottom><b>retrieveFile</b> (<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *dc, const std::string &amp;args)</td></tr>
<tr><td nowrap align=right valign=top><a name="b8" doxytag="BFTPControlConn::closeIfInactive"></a>
void&nbsp;</td><td valign=bottom><b>closeIfInactive</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="b9" doxytag="BFTPControlConn::dcHandleAccept"></a>
void&nbsp;</td><td valign=bottom><b>dcHandleAccept</b> (<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *dc)</td></tr>
<tr><td nowrap align=right valign=top><a name="b10" doxytag="BFTPControlConn::dcReportFinish"></a>
void&nbsp;</td><td valign=bottom><b>dcReportFinish</b> (<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *dc, BFTPDataConn::DCMode mode, bool remoteclosed)</td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="n0" doxytag="BFTPControlConn::dc"></a>
<a class="el" href="classBFTPControlConn_1_1BFTPDataConn.html">BFTPDataConn</a> *&nbsp;</td><td valign=bottom><b>dc</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n1" doxytag="BFTPControlConn::master"></a>
<a class="el" href="classBFTPServer.html">BFTPServer</a> *&nbsp;</td><td valign=bottom><b>master</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n2" doxytag="BFTPControlConn::deleg"></a>
Delegate *&nbsp;</td><td valign=bottom><b>deleg</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n3" doxytag="BFTPControlConn::cwd"></a>
std::string&nbsp;</td><td valign=bottom><b>cwd</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n4" doxytag="BFTPControlConn::fullcwd"></a>
std::string&nbsp;</td><td valign=bottom><b>fullcwd</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n5" doxytag="BFTPControlConn::lastcmd"></a>
std::string&nbsp;</td><td valign=bottom><b>lastcmd</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n6" doxytag="BFTPControlConn::lastarg"></a>
std::string&nbsp;</td><td valign=bottom><b>lastarg</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n7" doxytag="BFTPControlConn::renameFrom"></a>
std::string&nbsp;</td><td valign=bottom><b>renameFrom</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n8" doxytag="BFTPControlConn::buf"></a>
char&nbsp;</td><td valign=bottom><a class="el" href="classBFTPControlConn.html#n8">buf</a> [4096]</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The read block. Use this for data transfer.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="n9" doxytag="BFTPControlConn::ttype"></a>
TransferType&nbsp;</td><td valign=bottom><b>ttype</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n10" doxytag="BFTPControlConn::user"></a>
<a class="el" href="structBFTPUser.html">BFTPUser</a>&nbsp;</td><td valign=bottom><b>user</b></td></tr>
<tr><td nowrap align=right valign=top><a name="n11" doxytag="BFTPControlConn::lastActivityTime"></a>
time_t&nbsp;</td><td valign=bottom><b>lastActivityTime</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
FTP control connection, managed by the <a class="el" href="classBFTPServer.html">BFTPServer</a> class. Do not use directly. 
<p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BFTPServer_8h-source.html">BFTPServer.h</a></ul>
<hr><address style="align: right;"><small>Generated on Thu Feb 14 08:32:15 2008 for libDSFTP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
